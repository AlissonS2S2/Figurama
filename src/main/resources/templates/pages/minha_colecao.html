<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="icon" type="web-icon" href="/images/Logo.png">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/components/cards.css">
    <link rel="stylesheet" href="../css/components/buttons.css">
    <link rel="stylesheet" href="../css/components/forms.css">
    <link rel="stylesheet" href="../css/pages/minha_colecao.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header-logged">
        <a href="dashboard.html">
            <img src="images/Logo.png" alt="Logo Figurama">
        </a>
        
        <nav class="nav-logged">
            <span>üë§ N_Usu√°rio</span>
            <a href="#">Cole√ß√£o</a>
            <input type="text" placeholder="Pesquisar">
            <button class="btn-add">Adicionar +</button>
        </nav>
    </header>

    <main class="colecao-container">

        <div class="left-container">
            <section class="colecao-info">
                <h1 id="title-colecao"></h1>
                <p id="description"></p>
                <small id="total-items"> Action Figures</small>
                <hr class=divider>
            </section>

            <section class="card-grid" id="collection-grid-container">
                <div class="figure-card-placeholder"></div>
            </section>
        </div>

        <aside class="aside-edit">
            <div class="user-header">
                <div class="user-avatar">
                    <img class="profile-icon" src="../icons/Profile-icon.png" alt="Descri√ß√£o da imagem">
                </div>
                <span class="menu-dots">‚ãÆ</span>
            </div>

            <div class="aside-buttons">
                <button id="btn-edit" onclick="goToEditPage()">Editar Cole√ß√£o</button>
                <small class="update-date">Ultima modifica√ß√£o: **/**/**</small>
                <button id="btn-delete" onlclick="deleteCollection()">Excluir Cole√ß√£o</button>
            </div>
        </aside>
    </main>

    <script>
        // BACK-END: Fun√ß√£o para pegar o ID da cole√ß√£o da URL
function getCollectionId() {
    const params = new URLSearchParams(window.location.search);
    return params.get('id');
}

// Redireciona para a p√°gina de edi√ß√£o (levando o ID)
function goToEditPage() {
    const id = getCollectionId();
    // BACK-END: Certifique-se que o nome do arquivo da p√°gina anterior seja este
    window.location.href = `criando-uma-colecao.html?id=${id}`;
}

// Fun√ß√£o para excluir a cole√ß√£o
async function deleteCollection() {
    const id = getCollectionId();
    
    if (confirm("Tem certeza que deseja excluir esta cole√ß√£o? Esta a√ß√£o n√£o pode ser desfeita.")) {
        // BACK-END: DELETE /api/collections/:id
        console.log("Chamando banco para excluir cole√ß√£o ID:", id);
        
        /*
        try {
            const response = await fetch(`${API_BASE_URL}/collections/${id}`, {
                method: 'DELETE'
            });
            if (response.ok) {
                alert("Cole√ß√£o exclu√≠da!");
                window.location.href = "home.html"; // Redireciona ap√≥s excluir
            }
        } catch (error) {
            console.error("Erro ao excluir cole√ß√£o:", error);
        }
        */
    }
}

// BACK-END: Fun√ß√£o para carregar os dados iniciais
async function loadCollectionDetails() {
    const id = getCollectionId();
    // 1. Buscar dados da cole√ß√£o (Nome, Descri√ß√£o, Data)
    // 2. Buscar itens da cole√ß√£o (Action Figures)
    // 3. Preencher o ID 'figures-container' com os cards reais
}

document.addEventListener('DOMContentLoaded', loadCollectionDetails);
    </script>
</body>
</html>